# Healthcare Revenue Cycle Optimization: Predicting Financial Toxicity Risk

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)

## Executive Summary

This project develops a machine learning framework to predict bad-debt risk in hospital revenue cycle management, achieving a 9.4Ã— improvement over random baseline in identifying high-risk patients. Using synthetic electronic health record data, the model identifies comorbidity burden as the strongest predictor of payment default, providing actionable insights for targeted financial assistance programs and revenue protection strategies.

**Key Business Impact:** The model enables healthcare systems to proactively identify patients who may struggle with medical bills, allowing for early intervention through financial counseling, payment plans, or charity care before debt becomes uncollectible.

---

## Problem Statement and Audience

Medical debt affects over 100 million Americans, with hospitals writing off billions annually in bad debt while patients face financial toxicity. Traditional revenue cycle systems react to non-payment rather than predict it, missing opportunities for early intervention that could benefit both patient financial health and hospital cash flow.

This analysis demonstrates how routinely collected clinical and demographic data can power a propensity-to-pay model suitable for integration into revenue cycle workflows. The framework is designed for healthcare finance leaders, revenue cycle directors, and strategy consultants evaluating predictive analytics investments.

**Target Use Case:** During patient registration or billing workflow, flag high-risk accounts for immediate financial counseling and assistance program enrollment, reducing bad debt write-offs while improving patient satisfaction and equity in care access.

---

## Data Summary and Privacy

This project uses **synthetic patient data generated by Synthea**, an open-source patient population simulator that creates realistic but entirely fictional electronic health records. No real patient information is used.

**Data Characteristics:**
- **Source:** Synthea synthetic patient generator (Kentucky population, 1,701 patients)
- **License:** Apache 2.0 (freely available, no restrictions)
- **Key Tables:** Patient demographics, insurance claims, claim transactions, payer information, diagnosed conditions
- **Analysis Cohort:** 186 patients with billed claims (10.9% of total population)
- **Outcome Definition:** High-risk defined as patients with payment ratio below 80% and outstanding balance exceeding $100

**Privacy Statement:** All data is synthetic and contains no protected health information. The analysis framework demonstrated here is designed to be adaptable to real de-identified EHR data in production healthcare settings, subject to appropriate HIPAA compliance and institutional review.

For details on data generation and structure, see [`DATA_README.md`](DATA_README.md).

---

## Approach and Methods

The analysis follows a standard healthcare analytics pipeline adapted for revenue cycle applications. The methodology emphasizes interpretability and business applicability over pure predictive performance, recognizing that models deployed in healthcare finance must be explainable to stakeholders and auditable for compliance.

**Feature Engineering:** Patient-level aggregation of clinical complexity (comorbidity count from diagnosis codes), socioeconomic indicators (income, insurance status), and demographic factors (age). These features were selected based on financial toxicity literature indicating that treatment complexity, out-of-pocket burden, and ability to pay are key drivers of medical debt.

**Modeling Strategy:** Random Forest classifier with balanced class weights to address the severe class imbalance inherent in bad-debt prediction (only 2.1% of patients met high-risk criteria). Cross-validation with stratified sampling ensures robust performance estimates despite limited positive cases.

**Model Evaluation:** Precision-Recall metrics rather than ROC-AUC, following best practices for imbalanced classification. The Average Precision score (area under the Precision-Recall curve) provides a more realistic assessment of model utility when the positive class is rare.

**Feature Importance Analysis:** Dual approach using Mean Decrease in Impurity (MDI) and permutation importance. Permutation importance is preferred as it measures actual predictive contribution rather than correlation with tree splits, avoiding bias toward high-cardinality features.

For technical implementation details, see the complete analysis notebook: [`notebooks/ftr_analysis_complete.ipynb`](notebooks/ftr_analysis_complete.ipynb)

---

## Key Results and Business Implications

### Model Performance
The optimized Random Forest model achieved a **cross-validated Average Precision of 0.206**, representing a 9.4-fold improvement over the random baseline of 0.022. While this appears modest in absolute terms, it reflects meaningful signal extraction from limited features in a severely imbalanced dataset.

After hyperparameter tuning, the best cross-validation F1 score improved from 0.146 to 0.235, a 61% relative improvement. These metrics indicate the model can meaningfully stratify risk, though real-world deployment would require validation on actual claims data and potentially richer feature sets.

### Critical Business Insight: Comorbidity as Risk Driver
The feature importance analysis revealed that **comorbidity count was the only feature with genuine predictive power** (permutation importance: 0.062). Income showed minimal contribution (0.023), and age actually degraded model performance when included (permutation importance: -0.050).

This finding has direct operational implications. Revenue cycle teams should prioritize clinical complexity indicators already present in EHR systems rather than waiting for external socioeconomic data integration. Patients with multiple chronic conditions accumulate higher deductible exposure and face greater care coordination challenges, making them natural candidates for proactive financial counseling.

### Actionable Recommendations

**For Healthcare Systems:**
1. **Implement automated risk scoring** at point of service using diagnosis history from the EHR, flagging patients with three or more active comorbidities for financial navigation services
2. **Pilot financial counseling interventions** targeting high-comorbidity patients at registration, measuring impact on bad debt write-offs and patient satisfaction
3. **Develop segmented payment plan offerings** that recognize that medically complex patients may need longer repayment timelines and lower monthly minimums

**For Revenue Cycle Consulting:**
1. **Position predictive analytics as decision support** rather than automated denial, emphasizing patient-centric outcomes alongside revenue protection
2. **Quantify ROI through reduced write-offs and improved patient retention**, rather than pure collections improvement
3. **Integrate risk models with existing charity care eligibility workflows** to ensure high-risk patients are screened for assistance programs they may qualify for

**Model Limitations and Production Considerations:**
The current model was trained on synthetic data that lacks the behavioral realism of actual payment patterns. Real-world deployment requires validation on historical claims data, potentially incorporating richer features such as prior payment history, zip-code-level socioeconomic indicators, and payer mix. The severe class imbalance (2.1% high-risk prevalence) necessitates careful threshold selection balancing false positive costs (unnecessary counseling outreach) against false negative costs (missed intervention opportunities).

---

## How to Reproduce

This project is fully reproducible with minimal setup. All code runs in Python 3.8 or higher with standard data science libraries.

### Quick Start (5 minutes)

**Step 1:** Clone this repository
```bash
git clone https://github.com/riyashet/healthcare-ftr-prediction.git
cd healthcare-ftr-prediction
```

**Step 2:** Create and activate a virtual environment
```bash
# On macOS/Linux
python3 -m venv venv
source venv/bin/activate

# On Windows
python -m venv venv
venv\Scripts\activate
```

**Step 3:** Install dependencies
```bash
pip install -r requirements.txt
```

**Step 4:** Run the complete analysis notebook
```bash
jupyter notebook notebooks/ftr_analysis_complete.ipynb
```

The notebook will execute all data processing, modeling, and evaluation steps, generating results and figures in approximately 2-3 minutes on a standard laptop.

### Alternative: Run the demo script
For a quick demonstration without opening Jupyter, run the standalone Python demo:
```bash
python src/demo_prediction.py
```

This generates sample predictions and prints key performance metrics to the console.

### Environment Details
Complete package specifications are provided in:
- `requirements.txt` - pinned versions for exact reproducibility
- `environment.yml` - conda environment specification (alternative to pip)

For Docker users, a containerized environment is available:
```bash
docker build -t ftr-model .
docker run -p 8888:8888 ftr-model
```

---

## Deliverables

This repository contains the following professional deliverables suitable for client presentations and consulting proposals:

**Analysis Artifacts:**
- **`notebooks/ftr_analysis_complete.ipynb`** - Complete narrative analysis with inline business commentary
- **`reports/one_page_case_study.md`** - Executive summary suitable for client briefings (also available as [PDF](reports/one_page_case_study.pdf))
- **`slides/ftr_presentation.pdf`** - Slide deck with key findings and recommendations (8 slides)

**Code and Reproducibility:**
- **`src/`** - Modularized Python functions for data processing, modeling, and evaluation
- **`tests/`** - Unit tests for critical functions ensuring code reliability
- **`examples/`** - Synthetic sample datasets and example outputs

**Documentation:**
- **`DATA_README.md`** - Detailed data documentation and synthetic data generation notes
- **`METHODOLOGY.md`** - Technical methodology and statistical approach details

All charts and tables from the analysis are saved in `outputs/figures/` with publication-quality resolution (300 DPI).

---

## Contact and Consulting Offer

**Riya Shet**  
Quantitative Consultant | Health Economics & Predictive Modeling  
GitHub: [@riyashet](https://github.com/riyashet)  
LinkedIn: [linkedin.com/in/riyashet](https://www.linkedin.com/in/riyashet)

I am available for consulting engagements in healthcare analytics, revenue cycle optimization, and predictive modeling for health systems and strategy firms. This project demonstrates my ability to translate clinical data into actionable business insights using rigorous quantitative methods.

**Areas of Expertise:**
- Healthcare financial analytics and revenue cycle management
- Predictive modeling for risk stratification and resource allocation
- Health economics and value-based care analytics
- EHR data analysis and claims analytics

For project inquiries or consulting opportunities, please connect via LinkedIn or email.

---

## License and Citation

**Code:** MIT License - freely available for commercial and academic use  
**Documentation and Reports:** Creative Commons Attribution 4.0 International (CC BY 4.0)

If you use or adapt this methodology in your work, please cite this repository and acknowledge the Synthea project for providing the synthetic patient data.

**Suggested Citation:**
```
Shet, R. (2026). Healthcare Revenue Cycle Optimization: Predicting Financial Toxicity Risk. 
GitHub repository: https://github.com/riyashet/healthcare-ftr-prediction
```

---

**Last Updated:** February 2026  
**Repository Status:** Active - maintained and updated regularly
